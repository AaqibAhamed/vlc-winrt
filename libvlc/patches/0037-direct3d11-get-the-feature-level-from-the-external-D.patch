From 26e661304b769b1d193c208ae129dc9773e73d22 Mon Sep 17 00:00:00 2001
From: Steve Lhomme <robux4@ycbcr.xyz>
Date: Wed, 18 Apr 2018 14:19:56 +0200
Subject: [PATCH 37/38] direct3d11: get the feature level from the external
 D3D11 device on winstore builds

---
 modules/video_output/win32/direct3d11.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/modules/video_output/win32/direct3d11.c b/modules/video_output/win32/direct3d11.c
index 32d06caa00..d1026fd17c 100644
--- a/modules/video_output/win32/direct3d11.c
+++ b/modules/video_output/win32/direct3d11.c
@@ -212,6 +212,7 @@ static int OpenCoreW(vout_display_t *vd)
     sys->dxgiswapChain = dxgiswapChain;
     sys->d3d_dev.d3ddevice     = d3ddevice;
     sys->d3d_dev.d3dcontext    = d3dcontext;
+    sys->d3d_dev.feature_level = ID3D11Device_GetFeatureLevel(sys->d3d_dev.d3ddevice );
     IDXGISwapChain_AddRef     (sys->dxgiswapChain);
     ID3D11Device_AddRef       (sys->d3d_dev.d3ddevice);
     ID3D11DeviceContext_AddRef(sys->d3d_dev.d3dcontext);
-- 
2.19.2

